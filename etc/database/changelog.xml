<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
	<changeSet author="sv" id="initial_bootstrap" context="prod">
		<sqlFile encoding="utf8"
				 path="./sql/exclusion_lists_staging.sql"
				 relativeToChangelogFile="true"/>
	</changeSet>
    <changeSet author="sv" id="1456985528119-324" context="test">
       <sqlFile encoding="utf8"
               path="./sql/001_insert_files.sql"
               relativeToChangelogFile="true"/>
       <rollback>
            delete from files;
       </rollback>
    </changeSet>
    <changeSet author="sv" id="1456985528119-325" context="prod">
       <sqlFile encoding="utf8"
               path="./sql/002_insert_exclusion_lists.sql"
               relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet author="sv" id="1456985528119-326" context="test">
       <sqlFile encoding="utf8"
               path="./sql/003_update_exclusion_lists.sql"
               relativeToChangelogFile="true"/>
       <rollback>
            UPDATE `exclusion_lists` SET is_active = 0
       </rollback>
    </changeSet>
	<changeSet author="meirs" id="sv-560-1" context="prod">
		<addColumn tableName="oig_records">
			<column name="waiverdate" type="DATE" defaultValue="NULL" />
		</addColumn>
		<addColumn tableName="oig_records">
			<column name="wvrstate" type="VARCHAR(10)" />
		</addColumn>
	</changeSet>
	<changeSet author="meirs" id="sv-560-2" context="prod">
			<modifyDataType tableName="oig_records" columnName="id" newDataType="INT(11) UNSIGNED"/>
			<modifyDataType tableName="oig_records" columnName="lastname" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="firstname" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="midname" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="busname" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="general" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="specialty" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="upin" newDataType="VARCHAR(100)" />
			<modifyDataType tableName="oig_records" columnName="dob" newDataType="DATE" />
			<modifyDataType tableName="oig_records" columnName="address" newDataType="VARCHAR(255)" />
			<modifyDataType tableName="oig_records" columnName="city" newDataType="VARCHAR(50)" />
			<modifyDataType tableName="oig_records" columnName="state" newDataType="VARCHAR(25)" />
			<modifyDataType tableName="oig_records" columnName="zip" newDataType="VARCHAR(10)" />
			<modifyDataType tableName="oig_records" columnName="excltype" newDataType="VARCHAR(50)" />
			<modifyDataType tableName="oig_records" columnName="excldate" newDataType="DATE" />
			<modifyDataType tableName="oig_records" columnName="reindate" newDataType="DATE" />
	</changeSet>
	<include file="./changelog/svg-393.changelog.xml"
			 relativeToChangelogFile="true"/>
</databaseChangeLog>
